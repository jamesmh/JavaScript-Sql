"undefined"==typeof String.prototype.includes&&(string.prototype.includes=function(e){return this.indexOf(e)>=0}),$ql=function(){var e=function(r){return new e.fn(r)};return e.fn=function(e){e.jquery&&e.selector&&(e=e.toArray()),this._array=e,this._$sqltype=!0},e.fn.prototype={},e}(),$ql.fn.prototype._helpers=function(){var e={};return e.isFunction=function(e){return e instanceof Function},e.isString=function(e){return"string"==typeof e},e.isSqlType=function(e){return"undefined"!=typeof t._$sqltype},e.chooseAndExecCallbackFunction=function(r,t,o,n){return e.isFunction(t[0])?o.call(r._array,t[0]):o.call(r._array,n)},e.getPropertyFromDotNotation=function(e,r){if(void 0===e||null===e)return r;for(var t=e.split("."),o=0,n=r[t[0]],a=null;void 0!==n;)a=n,o++,nextPropertyKey=t[o],n=a[nextPropertyKey];return a},e.getObjectValue=function(e){return"function"==typeof e?e():e},e}(),$ql.fn.prototype.explode=function(){var e=($ql.fn.prototype._helpers,arguments);if(0!==e.length)throw"$ql.explode: Doesn't take any arguments...";var r=[];return this._array.forEach(function(e){e.$joined&&e.$joined.length&&(e.$joined.forEach(function(t){r.push({left:e,right:t})}),e.$joined=void 0)}),this._array=r,this},$ql.fn.prototype.join=function(){var e,r=$ql.fn.prototype._helpers,t=arguments;if(3==t.length)e={clause:"LEFT",array:t[0],leftProperty:t[1],rightProperty:t[2]};else{if(4!=t.length)throw"$ql.join: Incorrect number of arguments...";e={clause:t[0].toUpperCase().trim(),array:t[1],leftProperty:t[2],rightProperty:t[3]}}r.isSqlType(e.array)?e.array=e.array._array:e.array.jquery&&(e.array=e.array.toArray());var o=e.clause.includes("LEFT"),n=e.clause.includes("INNER");return this._array.forEach(function(t){var a=e.array.filter(function(o){return r.getObjectValue(r.getPropertyFromDotNotation(e.leftProperty,t))==r.getObjectValue(r.getPropertyFromDotNotation(e.rightProperty,o))});o?t.$joined=a:n&&(0===a.length?t.$noMatches=!0:t.$joined=a)}),n&&(this._array=this._array.filter(function(e){return!e.$noMatches})),this},$ql.fn.prototype.orderBy=function(){var e,r=$ql.fn.prototype._helpers,t=arguments;if(1===t.length)e={clause:"ASC",property:t[0]};else{if(2!==t.length)throw"$ql.orderBy: Incorrect number of arguments...";e={clause:t[0],property:t[1]}}var o=function(t,o){var n=r.getObjectValue(r.getPropertyFromDotNotation(e.property,t)),a=r.getObjectValue(r.getPropertyFromDotNotation(e.property,o)),u=e.clause.toUpperCase().trim();switch(!0){case 0===u.indexOf("ASC"):return n<a?-1:n>a?1:0;case 0===u.indexOf("DESC"):return n<a?1:n>a?-1:0;default:throw"$sql.orderBy: There's something wrong with the clause '"+e.clause+"'...."}};return this._array=r.chooseAndExecCallbackFunction(this,t,Array.prototype.sort,o),this},$ql.fn.prototype.select=function(){var e=$ql.fn.prototype._helpers,r=arguments,t={property:r[0]},o=function(r){return e.getObjectValue(e.getPropertyFromDotNotation(t.property,r))};return e.chooseAndExecCallbackFunction(this,r,Array.prototype.map,o)},$ql.fn.prototype.where=function(){var e=$ql.fn.prototype._helpers,r=arguments,t=function(t){var o;if(3===r.length)o={property:r[0],operator:r[1],value:r[2]};else{if(2!==r.length)throw"$ql.where: Incorrect number of arguments.";o={property:null,operator:r[0],value:r[1]}}var n=e.getPropertyFromDotNotation(o.property,t),a=o.operator.toUpperCase();switch(o.operator){case"=":case"==":case!!a.includes("EQUAL")&&o.operator:case"IS"===a&&o.operator:return e.getObjectValue(n)==o.value;case"===":return e.getObjectValue(n)===o.value;case"!=":case!!o.operator.toUpperCase().includes("NOT")&&o.operator:return e.getObjectValue(n)!=o.value;case"!==":return e.getObjectValue(n)!==o.value;case"<":case!!o.operator.toUpperCase().includes("LESS")&&o.operator:return e.getObjectValue(n)<o.value;case">":case!!o.operator.toUpperCase().includes("GREATER")&&o.operator:return e.getObjectValue(n)>o.value;case"<=":return e.getObjectValue(n)<=o.value;case">=":return e.getObjectValue(n)>=o.value;case"LIKE"===a&&o.operator:return e.getObjectValue(n).toUpperCase().includes(o.value.toUpperCase());default:throw"$ql: Invalid Operator '"+o.operator+"'."}};return this._array=e.chooseAndExecCallbackFunction(this,r,Array.prototype.filter,t),this};